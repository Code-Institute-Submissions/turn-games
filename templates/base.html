{% load static %}
<!doctype html>
<html lang="en">
<head>

    <!-- Main Meta tags -->
    {% block meta %}
        <meta http-equiv="x-ua-compatible" content="ie=edge"/>
        <meta charset="utf-8"/>
        <meta
                name="viewport"
                content="width=device-width, initial-scale=1, shrink-to-fit=no"/>

    {% endblock %}

    <!-- Custom Meta tags -->
    {% block custom-meta %} {% endblock %}

    <!-- Main CSS and fonts -->
    {% block core-css %}

        <!-- Bulma -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.min.css">

        <!-- Bulma Steps-->
        <link rel="stylesheet" href="https://cdn.rawgit.com/octoshrimpy/bulma-o-steps/master/bulma-steps.css">

        <!-- Flickity -->
        <link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css">

        <!-- Favicon -->
        <link rel="shortcut icon" href="{% static 'images/turn-games-logo.svg' %}"/>

        <!-- Fonts -->
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap"
              rel="stylesheet">

        <!-- Base CSS -->
        <link rel="stylesheet" href="{% static 'css/base.css' %}">

    {% endblock %}

    <!-- custom css imports -->
    {% block custom-css %} {% endblock %}

    <!-- Preload JS -->
    {% block core-js %}

        <!-- Font Awesome kit -->
        <script src="https://kit.fontawesome.com/aca960b3f7.js" crossorigin="anonymous"></script>

        <!-- Jquery JavaScript -->
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"
                integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

        <!-- FlickityJavaScript -->
        <script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>

        <!-- Stripe Payments-->
        <script src="https://js.stripe.com/v3/"></script>

    {% endblock %}

    <!-- custom js imports -->
    {% block custom-js %} {% endblock %}

    <!-- title with optional customization -->
    <title>Turn Games {% block custom-page-title %}{% endblock %}</title>

</head>
<body>
<header>
    {% include 'includes/main-header.html' %}
    {% include 'includes/main-nav.html' %}
</header>
<div class="cover">
</div>

<!-- messages -->
{% if messages %}
    <div class="container mt-5 is-line-1">
        <div class="columns">
            <div class="column"></div>
            <div class="column is-6 has-text-weight-medium">
                {% for message in messages %}
                    <!-- render appropriate message src:
                    https://simpleisbetterthancomplex.com/tips/2016/09/06/django-tip-14-messages-framework.html-->
                    {% with message.level as level %}
                        <!-- Error -->
                        {% if level == 40 %}
                            {% include 'includes/messages/message_error.html' %}
                            <!-- Warning -->
                        {% elif level == 30 %}
                            {% include 'includes/messages/message_warning.html' %}
                            <!-- Success -->
                        {% elif level == 25 %}
                            {% include 'includes/messages/message_success.html' %}
                            <!-- Info -->
                        {% else %}
                            {% include 'includes/messages/message_info.html' %}
                        {% endif %}
                    {% endwith %}
                {% endfor %}
            </div>
            <div class="column"></div>
        </div>
    </div>
{% endif %}

<!-- page header -->
{% block page-header %} {% endblock %}

<!-- page content -->
{% block content %}
{% endblock %}

<!-- custom post load js -->
{% block post-custom-js %}
    <!-- Base JS -->
    <script src="{% static 'js/base.js' %}"></script>
    <script type="text/javascript">
        {#    From Bulma Documentation: https://bulma.io/documentation/elements/notification/#}
        document.addEventListener('DOMContentLoaded', () => {
            (document.querySelectorAll('.notification .delete') || []).forEach(($delete) => {
                $notification = $delete.parentNode;

                $delete.addEventListener('click', () => {
                    $notification.parentNode.removeChild($notification);
                });

                setInterval(function () {
                        $notification.parentNode.removeChild($notification);
                    },
                    3000
                )
            });
        })
        ;
    </script>
{% endblock %}
</body>
</html>